{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/home/home.ts","../../src/app/core/rfid.service.ts","../../src/app/core/socket.service.ts","../../src/app/environments/environment.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../ws (ignored)","../../src/app/core/core.module.ts","../../src/app/app.reducers.ts","../../src/app/core/store/songs/actions/song.actions.ts","../../src/app/core/store/songs/index.ts","../../src/app/core/store/songs/reducers/search.reducer.ts","../../src/app/core/store/songs/reducers/song.reducer.ts","../../src/app/core/store/songs/effects/search.effects.ts","../../src/app/core/youtube/youtube.service.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 134;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 134\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 177;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 177\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { RFIDService, RFIDData } from '../../app/core/rfid.service';\nimport { Observable } from 'rxjs';\n\nimport 'rxjs/add/operator/do';\nimport { ToastController } from 'ionic-angular/components/toast/toast-controller';\nimport { Toast } from 'ionic-angular/components/toast/toast';\n\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n  public rfidFound$: Observable<string>;\n  public rfidMode$: Observable<string>;\n\n  public rfidData: RFIDData;\n  public saveToast: Toast = this.toastCtrl.create({\n    message: 'RFID Object Saved Successfully!',\n    duration: 3000,\n    position: 'top'\n  });\n\n  constructor(\n    public navCtrl: NavController,\n    private toastCtrl: ToastController,\n    private rfidService: RFIDService\n  ) {\n    this.rfidFound$ = this.rfidService.rfidFound$\n      .do(rfidData => this.rfidData = rfidData);\n\n    this.rfidMode$ = this.rfidService.rfidModeChanged$\n      .do((mode) => console.log('Mode Changed', mode));\n\n    this.rfidService.rfidDataSaved$\n      .subscribe(() => {\n        this.saveToast.present();\n      });\n  }\n\n  ionViewDidEnter() {\n    \n  }\n\n  ngOnDestroy() {\n    this.rfidService.setRFIDMode('get');\n  }\n\n  public changeType(type: 'youtube-playlist' | 'youtube-video') {\n    this.rfidData.payload = {\n      id: undefined,\n      type: type\n    }\n  }\n\n  public setRFIDMode(mode: 'set' | 'get') {\n    this.rfidService.setRFIDMode(mode);\n  }\n\n  public saveRFIDObject(rfidData: RFIDData) {\n    if (\n      rfidData.id &&\n      rfidData.payload &&\n      rfidData.payload.id &&\n      rfidData.payload.type\n    ) {\n      this.rfidService.saveRFIDObject(rfidData);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\n\nimport { environment } from '../environments/environment';\nimport { SocketService } from './socket.service';\n\nexport interface Track {\n    id: string;\n    name?: string;\n    type: 'youtube-video' | 'youtube-playlist';\n}\n\nexport interface RFIDObject {\n    tracks: Track[];\n    shuffle?: boolean;\n}\n\nexport interface RFIDData {\n    id: string;\n    payload: RFIDObject;\n}\n\n@Injectable()\nexport class RFIDService {\n\tpublic rfidFound$: Observable<any>;\n    public rfidModeChanged$: Observable<any>;\n    public rfidDataSaved$: Observable<any>;\n\n\tconstructor(\n\t\tprivate socketService: SocketService\n\t) {\n\t\tthis.rfidFound$ = this.socketService.listen('rfidFound');\n        this.rfidModeChanged$ = this.socketService.listen('rfidModeChanged');\n        this.rfidDataSaved$ = this.socketService.listen('saveRFIDDataSuccess');\n\t}\n\n\tpublic setRFIDMode(mode: 'set' | 'get') {\n\t\tthis.socketService.emit('setRFIDMode', mode);\n    }\n\n    public saveRFIDObject(rfidData: RFIDData) {\n\t\tthis.socketService.emit('saveRFIDData', rfidData);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/core/rfid.service.ts","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\n\nimport * as io from 'socket.io-client';\n\nimport { environment } from '../environments/environment';\n\n@Injectable()\nexport class SocketService {\n\tpublic connected$ = new BehaviorSubject<boolean>(false);\n\n\tprivate user;\n\tprivate socket;\n\tprivate heartbeatInterval;\n\n\tconstructor() {\n\t\tthis.socket = io(environment.socket.server);\n\t\tthis.socket.on('connect', () => this.connected$.next(true));\n\t\tthis.socket.on('disconnect', () => this.connected$.next(false));\n\t\t//TODO remove\n\t\tthis.socket.on('message', (m) => {\n\t\t\tconsole.log(m);\n\t\t});\n\n\t\tthis.socket.on(environment.socket.namespace + ':user:joinSession', this.startHeartbeat.bind(this));\n\t}\n\n\tpublic joinSession() {\n\t\tthis.connected$.subscribe(connected => {\n\t\t\t// This will handle reconnects automatically\n\t\t\tif(connected) {\n\t\t\t\tthis.socket.emit(environment.socket.namespace + ':user:joinSession', { user: this.user });\n\t\t\t}\n\t\t})\n\t}\n\n\t// TODO, remove--probably\n\tpublic disconnect(): void {\n\t\tthis.socket.disconnect();\n\t\tthis.connected$.next(false);\n\t}\n\n\tpublic emit(event: string, data?: any): void {\n\t\tthis.socket.emit(event, data);\n\t}\n\n\tpublic listen(event: string): Observable<any> {\n\t\treturn new Observable(observer => {\n\n\t\t\tthis.socket.on(event, data => {\n\t\t\t\tobserver.next(data);\n\t\t\t});\n\n\t\t\treturn () => this.socket.off(event);\n\t\t});\n\t}\n\n\tprivate startHeartbeat() {\n\t\tif(this.heartbeatInterval) {\n\t\t\tclearInterval(this.heartbeatInterval);\n\t\t}\n\n\t\tthis.heartbeatInterval = setInterval(() => {\n\t\t\tthis.socket.emit(environment.socket.namespace + ':user:heartbeat', this.user);\n\t\t}, environment.socket.heartbeatInterval);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/core/socket.service.ts","export const environment = {\n\tproduction: false,\n\tyoutubeAPIKey: 'AIzaSyB41MomupoaLtgaIkTN-HvtiUyHeF64Y7E',\n\tsocket: {\n\t\tserver: 'http://localhost:3000',\n\t\tnamespace: 'rfid',\n\t\theartbeatInterval: 5000\n\t}\n};\n\n\n// WEBPACK FOOTER //\n// ./src/app/environments/environment.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { CoreModule } from './core/core.module';\n\nimport { StoreModule } from '@ngrx/store';\nimport { EffectsModule } from '@ngrx/effects';\nimport { StoreDevtoolsModule } from '@ngrx/store-devtools';\nimport { metaReducers } from './app.reducers';\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    IonicModule.forRoot(MyApp),\n    CoreModule,\n    StoreModule.forRoot([], { metaReducers }),\n    EffectsModule.forRoot([]),\n    StoreDevtoolsModule.instrument({\n      maxAge: 25 //  Retains last 25 states\n    })\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = HomePage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ws (ignored)\n// module id = 330\n// module chunks = 0","import { NgModule,  Optional, SkipSelf, ErrorHandler } from '@angular/core';\nimport { SocketService } from './socket.service';\nimport { RFIDService } from './rfid.service';\nimport { StoreModule } from '@ngrx/store';\nimport { EffectsModule } from '@ngrx/effects';\n\nimport { reducers as songsReducers } from './store/songs';\nimport { SongsSearchEffects } from './store/songs/effects/search.effects';\nimport { YoutubeSearchService } from './youtube/youtube.service';\n\n@NgModule({\n\timports: [\n\t\tStoreModule.forFeature('songs', songsReducers),\n\t\tEffectsModule.forFeature([ SongsSearchEffects ])\n\t],\n\texports: [\n\n\t],\n\tdeclarations: [\n\n\t],\n\tproviders: [\n\t\tSocketService,\n\t\tRFIDService,\n\t\tYoutubeSearchService\n\t]\n})\nexport class CoreModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/core/core.module.ts","import { environment } from './environments/environment';\nimport { MetaReducer } from '@ngrx/store';\n\n/**\n * storeFreeze prevents state from being mutated. When mutation occurs, an\n * exception will be thrown. This is useful during development mode to\n * ensure that none of the reducers accidentally mutates the state.\n */\nimport { storeFreeze } from 'ngrx-store-freeze';\n\n/**\n * As mentioned, we treat each reducer like a table in a database. This means\n * our top level state interface is just a map of keys to inner state types.\n */\nexport interface State {\n\n}\n\n// console.log all actions\nexport function logger(reducer) {\n  return function(state, action: any) {\n    console.log('state', state);\n    console.log('action', action);\n\n    return reducer(state, action);\n  };\n}\n\n// Only activate our dev meta reducers if we're not in production\nexport const metaReducers: MetaReducer<State>[] = !environment.production\n? [logger, storeFreeze]\n: [];\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.reducers.ts","import { Action } from '@ngrx/store';\n\nimport { Song } from '../song.model';\n\n\nexport const LOAD = '[Songs] Load';\nexport const SEARCH = '[Songs] Search';\nexport const SEARCH_SUCCESS = '[Songs] Search Success';\nexport const SEARCH_FAIL = '[Songs] Search Fail';\nexport const NEXT_PAGE = '[Songs] Next Page';\nexport const NEXT_PAGE_SUCCESS = '[Songs] Next Page Success';\n\nexport class Search implements Action {\n\treadonly type = SEARCH;\n\n\tconstructor(public payload: Song) {}\n}\n\nexport class SearchSuccess implements Action {\n\treadonly type = SEARCH_SUCCESS;\n\n\tconstructor(public payload: Song[]) {}\n}\n\nexport class SearchFail implements Action {\n\treadonly type = SEARCH_FAIL;\n\n\tconstructor(public payload: string) {}\n}\n\nexport class Load implements Action {\n\treadonly type = LOAD;\n\n\tconstructor() {}\n}\n\nexport class NextPage implements Action {\n\treadonly type = NEXT_PAGE;\n\n\tconstructor() {}\n}\n\nexport class NextPageSuccess implements Action {\n\treadonly type = NEXT_PAGE_SUCCESS;\n\n\tconstructor(public payload: Song[]) {}\n}\n\n\nexport type Actions = Search | SearchSuccess | SearchFail | Load | NextPage | NextPageSuccess;\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/core/store/songs/actions/song.actions.ts","import { createSelector, createFeatureSelector } from '@ngrx/store';\nimport * as fromSearch from './reducers/search.reducer';\nimport * as fromSongs from './reducers/song.reducer';\n\nexport interface SongsState {\n    search: fromSearch.State,\n    songs: fromSongs.State\n};\n\nexport interface State {\n    'songs': SongsState\n};\n\nexport const reducers = {\n\tsongs: fromSongs.reducer,\n\tsearch: fromSearch.reducer\n};\n\n\n/* Selectors */\nexport const getSongsState = createFeatureSelector<SongsState>('songs');\n\nexport const getSongsEntitiesState = createSelector(\n\tgetSongsState,\n\tstate => state.songs\n);\n\nexport const {\n\tselectIds: getSongsIds,\n\tselectEntities: getSongsEntities,\n\tselectAll: getAllSongs,\n\tselectTotal: getTotalSongs,\n} = fromSongs.adapter.getSelectors(getSongsEntitiesState);\n\n\n/* Search */\nexport const getSearchState = createSelector(\n\tgetSongsState,\n\t(state: SongsState) => state.search\n);\n\nexport const getSearchEntriesIds = createSelector(\n\tgetSearchState,\n\tfromSearch.getIds\n);\nexport const getSearchParams = createSelector(\n\tgetSearchState,\n\tfromSearch.getParams\n);\nexport const getSearchLoading = createSelector(\n\tgetSearchState,\n\tfromSearch.getLoading\n);\nexport const getSearchError = createSelector(\n\tgetSearchState,\n\tfromSearch.getError\n);\n\nexport const getSearchResults = createSelector(\n\tgetSongsEntities,\n\tgetSearchEntriesIds,\n\t(entries, searchIds) => {\n\t\treturn searchIds.map(id => entries[id]);\n\t}\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/core/store/songs/index.ts","import { createSelector } from '@ngrx/store';\nimport { createEntityAdapter, EntityAdapter, EntityState } from '@ngrx/entity';\n\nimport { Song } from '../song.model';\nimport * as song from '../actions/song.actions';\n\nexport interface State {\n    ids: string[];\n    loading: boolean;\n    canLoadMore: boolean;\n    error: string;\n    params: any;\n    offset: number;\n    limit: number;\n}\n  \nconst initialState: State = {\n    ids: [],\n    loading: false,\n    canLoadMore: true,\n    error: '',\n    params: {},\n    limit: 20,\n    offset: 0\n};\n\nexport function reducer(\n\tstate = initialState,\n\taction: song.Actions\n): State {\n\tswitch(action.type) {\n\n\t\tcase song.LOAD: {\n            return initialState;\n        }\n    \n        case song.SEARCH: {\n          const params = action.payload;\n    \n          return {\n            ...state,\n            loading: true,\n            ids: [],\n            error: '',\n            params,\n            offset: 0,\n            limit: 20,\n            canLoadMore: false\n          };\n        }\n    \n        case song.SEARCH_SUCCESS: {\n          return {\n            ...state,\n            ids: action.payload.map(entries => entries.id),\n            loading: false,\n            error: '',\n            params: state.params,\n            canLoadMore: true\n          };\n        }\n    \n        case song.SEARCH_FAIL: {\n          return {\n            ...state,\n            loading: false,\n            error: action.payload,\n          };\n        }\n    \n        case song.NEXT_PAGE: {\n            if (state.loading) {\n                return state;\n            }\n    \n            return {\n                ...state,\n                loading: true,\n                offset: state.offset + state.limit,\n                canLoadMore: false\n            };\n        }\n    \n        case song.NEXT_PAGE_SUCCESS: {\n            return {\n                ...state,\n                ids: state.ids.concat(action.payload.map(entries => entries.id)),\n                loading: false,\n                error: '',\n                params: state.params,\n                canLoadMore: true\n            };\n        }\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport const getIds = (state: State) => state.ids;\n\nexport const getParams = (state: State) => state.params;\n\nexport const getLoading = (state: State) => state.loading;\n\nexport const getError = (state: State) => state.error;\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/core/store/songs/reducers/search.reducer.ts","import { createSelector } from '@ngrx/store';\nimport { createEntityAdapter, EntityAdapter, EntityState } from '@ngrx/entity';\n\nimport { Song } from '../song.model';\nimport * as song from '../actions/song.actions';\n\nexport interface State extends EntityState<Song> {}\n\nexport const adapter: EntityAdapter<Song> = createEntityAdapter<Song>({\n\tselectId: (song: Song) => song.id,\n\tsortComparer: false\n});\n\nexport const initialState: State = adapter.getInitialState();\n\nexport function reducer(\n\tstate = initialState,\n\taction: song.Actions\n): State {\n\tswitch (action.type) {\n\t\tcase song.SEARCH_SUCCESS: {\n\t\t\treturn adapter.addMany(action.payload, state);\n\t\t}\n\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/core/store/songs/reducers/song.reducer.ts","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/do';\nimport { empty } from 'rxjs/observable/empty';\nimport { Actions, Effect } from '@ngrx/effects';\nimport { Action } from '@ngrx/store';\nimport * as fromEntries from '../';\nimport * as song from '../actions/song.actions';\n\nimport { YoutubeSearchService } from '../../../youtube/youtube.service';\nimport { Store } from '@ngrx/store';\nimport { Song } from '../song.model';\n\n@Injectable()\nexport class SongsSearchEffects {\n    private debounce: number = 700\n\n\tconstructor(\n\t\tprivate actions$: Actions,\n        private searchService: YoutubeSearchService,\n        private store: Store<fromEntries.State>\n\t) {}\n        \n    // Load Effect\n\t@Effect()\n\tpublic load$: Observable<Action> = this.actions$\n\t\t.ofType<song.Load>(song.LOAD)\n\t\t.withLatestFrom(this.store.select(fromEntries.getSearchState))\n\t\t.map( ([action, store]) => {\n\t\t\t// Recreate our params from the state\n\t\t\treturn {\n\t\t\t\t...store.params,\n\t\t\t\toffset: store.offset\n\t\t\t}\n\t\t})\n        .switchMap(params => this.searchYoutube(params, song.LOAD))\n        .map((songs) => new song.SearchSuccess(songs))\n        .catch(err => Observable.of(new song.SearchFail(err)));\n\n\t// Search Effect\n\t@Effect()\n\tpublic search$: Observable<Action> = this.actions$\n\t\t.ofType<song.Search>(song.SEARCH)\n\t\t.debounceTime(this.debounce)\n        .map(action => action.payload)\n        .switchMap(params => this.searchYoutube(params, song.LOAD))\n        .map((songs) => new song.SearchSuccess(songs))\n        .catch(err => Observable.of(new song.SearchFail(err)));\n\n\t// Next Page Effect\n\t@Effect()\n\tpublic nextPage$: Observable<Action> = this.actions$\n\t\t.ofType<song.NextPage>(song.NEXT_PAGE)\n\t\t.debounceTime(2000)\n\t\t.withLatestFrom(this.store.select(fromEntries.getSearchState))\n\t\t.map( ([action, store]) => {\n\t\t\t// Recreate our params from the state\n\t\t\treturn {\n\t\t\t\t...store.params,\n\t\t\t\toffset: store.offset\n\t\t\t}\n        })\n        .switchMap(params => this.searchYoutube(params, song.LOAD))\n        .map((songs) => new song.NextPageSuccess(songs))\n        .catch(err => Observable.of(new song.SearchFail(err)));\n        \n    \n    private searchYoutube(params: any, action: string): Observable<Song[]> {\n        if(!params.query || params.query === '') {\n            return empty();\n        }\n\n        const nextSearch$ = this.actions$.ofType(action).skip(1);\n\n        return this.searchService\n            .search(params.query)\n            .takeUntil(nextSearch$)\n            .flatMap(items => this.searchService.getItemDetails(items));\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/core/store/songs/effects/search.effects.ts","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { environment } from '../../environments/environment';\nimport { Song } from '../store/songs/song.model';\n\n@Injectable()\nexport class YoutubeSearchService {\n\tpublic searchResults$: Observable<any> = new Observable<any>();\n\n\tconstructor(\n\t\tprivate http: HttpClient\n\t) {}\n\n\tpublic search(query: string): Observable<Song[]> {\n\t\tlet params = new HttpParams();\n\t\tparams = params.append('maxResults', '20');\n\t\tparams = params.append('part', 'snippet');\n\t\tparams = params.append('q', query);\n\t\tparams = params.append('safeSearch', 'none');\n\t\tparams = params.append('type', 'video');\n\t\tparams = params.append('videoDuration', 'any');\n\t\tparams = params.append('videoEmbeddable', 'true');\n\t\tparams = params.append('order', 'viewCount');\n\t\tparams = params.append('key', environment.youtubeAPIKey);\n\n\t\treturn this.http\n\t\t\t.get('https://www.googleapis.com/youtube/v3/search', { params: params })\n\t\t\t.map(data => {\n\t\t\t\tlet items = data['items'];\n\n\t\t\t\tif(items) {\n\t\t\t\t\treturn items;\n\t\t\t\t}\n\t\t\t}, (err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t}\n\n\tpublic getItemDetails(items): Observable<Song[]> {\n\t\t// If the first result contains support, remove it?\n\t\tif(items[0] && items[0].snippet.title == 'https://youtube.com/devicesupport') {\n\t\t\titems.splice(0,1);\n\t\t}\n\n\t\tlet ids = items.map((i) => {\n\t\t\treturn i.id.videoId;\n\t\t});\n\n\t\tlet params = new HttpParams();\n\t\tparams = params.append('id', ids.join(','));\n\t\tparams = params.append('part', 'contentDetails');\n\t\tparams = params.append('fields', 'items(id,contentDetails/duration)');\n\t\tparams = params.append('key', environment.youtubeAPIKey);\n\n\t\treturn this.http\n\t\t\t.get('https://www.googleapis.com/youtube/v3/videos', { params: params })\n\t\t\t.map(data => {\n\t\t\t\tlet durationItems = data['items'];\n\n\t\t\t\tlet songs = items.map((item) => {\n\t\t\t\t\tlet song: any = {\n\t\t\t\t\t\tid: item.id.videoId,\n\t\t\t\t\t\ttitle: item.snippet.title,\n\t\t\t\t\t\tthumbnail: item.snippet.thumbnails.high.url\n\t\t\t\t\t};\n\n\t\t\t\t\tfor(let i = 0; i < durationItems.length; i++) {\n\t\t\t\t\t\tlet di = durationItems[i];\n\n\t\t\t\t\t\tif(di.id === item.id.videoId) {\n\t\t\t\t\t\t\tsong.durationString = this.getTimeString(di.contentDetails.duration);\n\t\t\t\t\t\t\tsong.durationSeconds = this.getSeconds(di.contentDetails.duration);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn song;\n\t\t\t\t});\n\n\t\t\t\treturn songs;\n\t\t\t}, (err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}\n\n\tprivate getTimeString(duration) {\n\t\tvar string = duration.replace('PT','').replace('H',':').replace('M',':').replace('S','');\n\t\t// Look for single digit seconds\n\t\tvar string_array = string.split(':');\n\t\tif(string_array[string_array.length - 1].length == 1) {\n\t\t\tstring_array[string_array.length - 1] = '0' + string_array[string_array.length - 1];\n\t\t}\n\n\t\treturn string_array.join(':');\n\t}\n\n\t// Expects ISO 8601 duration string\n\tprivate getSeconds(duration) {\n\t\tvar reptms = /^PT(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+)S)?$/;\n\t\tvar hours = 0, minutes = 0, seconds = 0, totalseconds;\n\n\t\tif (reptms.test(duration)) {\n\t\t\tvar matches = reptms.exec(duration);\n\t\t\tif (matches[1]) hours = Number(matches[1]);\n\t\t\tif (matches[2]) minutes = Number(matches[2]);\n\t\t\tif (matches[3]) seconds = Number(matches[3]);\n\t\t\ttotalseconds = hours * 3600  + minutes * 60 + seconds;\n\t\t\t//console.log(duration);\n\t\t\t//console.log(hours, minutes, seconds, totalseconds);\n\t\t}\n\n\t\treturn totalseconds;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/core/youtube/youtube.service.ts"],"sourceRoot":""}